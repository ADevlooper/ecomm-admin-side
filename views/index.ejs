<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Products</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="bg-gray-100">
  <div class="max-w-6xl mx-auto py-10">
    <h1 class="text-3xl font-bold mb-6">Product Dashboard</h1>

    <a href="/new"
      class="mb-4 inline-block bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700">
      + Add New Product
    </a>

    <table class="w-full bg-white shadow-md rounded-lg overflow-hidden">
      <thead class="bg-gray-200 text-left">
        <tr>
          <th class="p-3">Name</th>
          <th class="p-3">Description</th>
          <th class="p-3">Price</th>
          <th class="p-3">Rating</th>
          <th class="p-3">Image</th>
          <th class="p-3">Actions</th>
        </tr>
      </thead>

      <tbody>
        <% products.forEach(product => { %>
          <tr class="border-b hover:bg-gray-50">
            <td class="p-3"><%= product.name %></td>
            <td class="p-3"><%= product.description %></td>
            <td class="p-3">$<%= product.price %></td>
            <td class="p-3"><%= product.rating %></td>
            <td class="p-3">
              <% if (product.image_url) { %>
                <img src="<%= product.image_url %>" class="w-16 rounded">
              <% } else { %>
                No Image
              <% } %>
            </td>

            <td class="p-3 flex gap-2">
              <a href="/edit/<%= product.id %>"
                class="px-3 py-1 bg-blue-500 text-white rounded">Edit</a>

              <form action="/delete/<%= product.id %>" method="POST">
                <button class="px-3 py-1 bg-red-500 text-white rounded"
                  onclick="return confirm('Delete this product?')">
                  Delete
                </button>
              </form>
            </td>
          </tr>
        <% }) %>
      </tbody>
    </table>
  </div>
</body>
</html>
